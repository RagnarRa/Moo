<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for ./src/Controllers/CreateEvalController.js</title>
    <meta charset="utf-8">

    <link rel="stylesheet" href="../../prettify.css">

    <link rel="stylesheet" href="../../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header high">
    <h1>Code coverage report for <span class="entity">./src/Controllers/CreateEvalController.js</span></h1>
    <h2>
        
        Statements: <span class="metric">93.55% <small>(29 / 31)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">83.33% <small>(10 / 12)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">83.33% <small>(5 / 6)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">93.55% <small>(29 / 31)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../index.html">All files</a> &#187; <a href="index.html">./src/Controllers/</a> &#187; CreateEvalController.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">12</span>
<span class="cline-any cline-yes">12</span>
<span class="cline-any cline-yes">12</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">12</span>
<span class="cline-any cline-yes">12</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">12</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">12</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">angular.module("evaluationApp").controller("CreateEvalController", ["$scope", "$location", "UserService", "TemplateService", function($scope, $location, UserService, TemplateService) {	
	$scope.questions = { "CourseQuestions" : [], "TeacherQuestions" : []};
	$scope.courseQuestionType = "";
	$scope.teacherQuestionType= "";
&nbsp;
	//types: Course question (0), Teacher Question (1)
	$scope.addQuestion = function(type) {
		if (type === 0) { //Course
			if ($scope.courseQuestionType !== "text") { //Need to add an answers property (and give the user a chance to add answers)..
				console.log("not text");
				//Indexed so we can add answers to it from the view.. where we lose indexing by using filters.
				$scope.questions.CourseQuestions.push({ "Index" : $scope.questions.CourseQuestions.length, "Text" : "", "TextEN" : "", "ImageURL" : "", "Type" : $scope.courseQuestionType, "Answers" : []});
			}
			else {
				console.log("text");
				$scope.questions.CourseQuestions.push({ "Index" : $scope.questions.CourseQuestions.length, "Text" : "", "TextEN" : "", "ImageURL" : "", "Type" : $scope.courseQuestionType});
			}
		}
&nbsp;
		else <span class="missing-if-branch" title="else path not taken" >E</span>if (type === 1) { //Teacher
			if ($scope.teacherQuestionType !== "text") { //Need to add an answers property (and give the user a chance to add answers)..
				console.log("not text");
				//Indexed so we can add answers to it from the view.. where we lose indexing by using filters.
				$scope.questions.TeacherQuestions.push({ "Index" : $scope.questions.TeacherQuestions.length, "Text" : "", "TextEN" : "", "ImageURL" : "", "Type" : $scope.teacherQuestionType, "Answers" : []});
			}
			else {
				console.log("text");
				$scope.questions.TeacherQuestions.push({ "Index" : $scope.questions.TeacherQuestions.length, "Text" : "", "TextEN" : "", "ImageURL" : "", "Type" : $scope.teacherQuestionType});
			}
		}
	};
&nbsp;
	/* index: index a object i CourseQuestions/TeacherQuestions sem vid viljum baeta vid spurningu i.. 
	   type: Course question (0), Teacher question (1). 
	*/
	$scope.addAnswer = function(index, type) {
		if (type === 0) { //Course
			$scope.questions.CourseQuestions[index]["Answers"].push({ "Text" : "", "TextEN" : "", "ImageURL" : "", Weight: 0 });
		}
		else <span class="missing-if-branch" title="else path not taken" >E</span>if (type === 1) { //Teacher
			$scope.questions.TeacherQuestions[index]["Answers"].push({ "Text" : "", "TextEN" : "", "ImageURL" : "", Weight: 0 });
		}
	};
&nbsp;
	$scope.createEval = function(evaluation) {
		$scope.evaluation = evaluation;
		$scope.evaluation["CourseQuestions"] = $scope.questions.CourseQuestions;
		$scope.evaluation["TeacherQuestions"] = $scope.questions.TeacherQuestions;
&nbsp;
		TemplateService.createTemplate($scope.evaluation).success(function(data, status, headers, config) {
			console.log("Template successfully created.");
			$location.path("/admin");
		}).error(<span class="fstat-no" title="function not covered" >function(data, status, headers, config) {</span>
<span class="cstat-no" title="statement not covered" >			console.log("Template creation error, status: " + status + ", Headers:");</span>
<span class="cstat-no" title="statement not covered" >			console.log(headers);</span>
		});
	};
}]);</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Thu Mar 12 2015 12:16:19 GMT+0000 (Greenwich Standard Time)</div>
</div>

<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>

<script src="../../sorter.js"></script>
</body>
</html>
