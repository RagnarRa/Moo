var app=angular.module("evaluationApp",["ngRoute"]);app.config(["$routeProvider","$sceDelegateProvider",function(a,b){a.when("/",{templateUrl:"src/Views/login.html",controller:"LoginController"}).otherwise({redirectTo:"/"}),b.resourceUrlWhitelist(["self","http://dispatch.hir.is/api/**"])}]),angular.module("evaluationApp").controller("LoginController",["$scope","$location","LoginService",function(a,b,c){a.username="",a.token="",a.logIn=function(b,d){c.logIn(b,d),a.token=c.getToken(),a.username=c.getUsername(),console.log("Token: "+a.token),console.log("Username: "+a.username)}}]),angular.module("evaluationApp").controller("TestController",["$scope",function(a){a.username="Ragnar"}]),angular.module("evaluationApp").factory("LoginService",["$http",function(a){var b="",c="";return{logIn:function(b,d){var e={user:b,pass:d};return a({method:"POST",url:"http://dispatch.hir.is/demo/api/v1/login",data:e}).success(function(a){console.log("Logged in!"),console.dir(a),c=a.Token,b=a.User.Username}).error(function(){console.log("Log in error!")})},getToken:function(){return c},getUsername:function(){return b}}}]);